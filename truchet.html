<!doctype html>
<html lang="en">
  <head>
    <title>Truchet Tiles</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="style.css" rel="stylesheet" />
    <link href="triangles.css" rel="stylesheet" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=STIX+Two+Text:ital,wght@0,400..700;1,400..700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <header>
      <h1>Truchet Tiles</h1>
      <div class="subhead"><a href="index.html">Home</a></div>
    </header>
    <main>
      <section>
        <h2>(Jan 2026) WORK IN PROGRESS!</h2>
        <p>
          This is a follow-up on the post about <a href="triangles.html">Triangular Grids</a>, to
          see how easily we could adapt a regular grid for Truchet tiles.
        </p>
      </section>
      <section>
        <h2>Rectangular Grid</h2>
        <div class="flex-container">
          <p>
            We start, as always, with the simple Cartesian grid, and the simplest set of two Truchet
            tiles.
          </p>
          <figure class="float-right small">
            <svg viewBox="0 0 400 200">
              <g class="grid square">
                <g class="square" style="transform: translate(75px, 50px)">
                  <g class="tile">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                    <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                  </g>
                </g>
                <g class="square" style="transform: translate(275px, 50px)">
                  <g class="tile rot90deg">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                    <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                  </g>
                </g>
              </g>
            </svg>
            <figcaption>Simplest two Truchet tiles with quarter-circle sections</figcaption>
          </figure>
        </div>
        <p>For the grid, we randomly choose from either of the two tiles. Lovely, isn't it?</p>
        <figure id="square-grid-two-tile" class="full-width">
          <svg viewBox="0 0 3000 1500" border-box>
            <g class="grid squares">
              <g
                v-for="sq in grid.grid.squares"
                :style="toTransform(grid.mapSquare(sq))"
                :class="sqClassName(sq, selected)"
                :data-sq="sq.string()"
              >
                <g v-if="sq.data==0" class="tile">
                  <polygon points="0,0 0,100 100,100 100,0" />
                  <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                  <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                </g>
                <g v-if="sq.data==1" class="tile rot90deg">
                  <polygon points="0,0 0,100 100,100 100,0" />
                  <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                  <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                </g>
                <!-- <text>{{sq.data}}</text> -->
              </g>
            </g>
          </svg>
        </figure>
        <div class="flex-container">
          <p>
            We of course are not limited to these two tiles. In fact, we can come up with as many
            tiles as we like, as long as they contain strokes that "exit" the tile at the four
            cardinal directions.
          </p>
          <figure id="square-grid" class="float-right small">
            <svg viewBox="0 0 400 200">
              <g class="grid square">
                <g class="square" style="transform: translate(0px, 0px)">
                  <!-- Two quarter circles -->
                  <g class="tile">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                    <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                  </g>
                </g>
                <g class="square" style="transform: translate(100px, 0px)">
                  <!-- Two quarter circles, turned 90 degrees -->
                  <g class="tile rot90deg">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                    <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                  </g>
                </g>
                <g class="square" style="transform: translate(200px, 0px)">
                  <!-- Cross -->
                  <g class="tile">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 L 100 50" />
                    <path class="stroke" d="M 50 0 L 50 100" />
                  </g>
                </g>
                <g class="square" style="transform: translate(300px, 0px)">
                  <!-- Cross under -->
                  <g class="tile">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 L 30 50 M 70 50 L 100 50" />
                    <path class="stroke" d="M 50 0 L 50 100" />
                  </g>
                </g>
                <g class="square" style="transform: translate(0px, 100px)">
                  <!-- Cross over -->
                  <g class="tile rot90deg">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path class="stroke" d="M 0 50 L 30 50 M 70 50 L 100 50" />
                    <path class="stroke" d="M 50 0 L 50 100" />
                  </g>
                </g>
                <g class="square" style="transform: translate(100px, 100px)">
                  <!-- Wiggle -->
                  <g class="tile">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path
                      class="stroke"
                      d="M 0 50 A 16.6 16.6 1 0 0 16.6 33.3 A 16.6 16.6 1 0 1 33.3 16.6 A 16.6 16.6 1 0 0 50 0"
                    />
                    <path
                      class="stroke"
                      d="M 100 50 A 16.6 16.6 1 0 0 83.3 66.6 A 16.6 16.6 1 0 1 66.6 83.3 A 16.6 16.6 1 0 0 50 100"
                    />
                  </g>
                </g>
                <g class="square" style="transform: translate(200px, 100px)">
                  <!-- Wiggle rotated 90deg -->
                  <g class="tile rot90deg">
                    <polygon points="0,0 0,100 100,100 100,0" />
                    <path
                      class="stroke"
                      d="M 0 50 A 16.6 16.6 1 0 0 16.6 33.3 A 16.6 16.6 1 0 1 33.3 16.6 A 16.6 16.6 1 0 0 50 0"
                    />
                    <path
                      class="stroke"
                      d="M 100 50 A 16.6 16.6 1 0 0 83.3 66.6 A 16.6 16.6 1 0 1 66.6 83.3 A 16.6 16.6 1 0 0 50 100"
                    />
                  </g>
                </g>
              </g>
            </svg>
            <figcaption>Some other tiles added for fun</figcaption>
          </figure>
        </div>
        <p>
          <figure id="square-grid-five-tile" class="full-width">
            <svg viewBox="0 0 3000 1500" border-box>
              <g class="grid squares">
                <g
                  v-for="sq in grid.grid.squares"
                  :style="toTransform(grid.mapSquare(sq))"
                  :class="sqClassName(sq, selected)"
                  :data-sq="sq.string()"
                >
                  <g v-if="sq.data==0" class="square">
                    <!-- Two quarter circles -->
                    <g class="tile">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                      <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                    </g>
                  </g>
                  <g v-if="sq.data==1" class="square">
                    <!-- Two quarter circles, turned 90 degrees -->
                    <g class="tile rot90deg">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path class="stroke" d="M 0 50 A 50 50 1 0 0 50 0" />
                      <path class="stroke" d="M 100 50 A 50 50 1 0 0 50 100" />
                    </g>
                  </g>
                  <g v-if="sq.data==2" class="square">
                    <!-- Cross -->
                    <g class="tile">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path class="stroke" d="M 0 50 L 100 50" />
                      <path class="stroke" d="M 50 0 L 50 100" />
                    </g>
                  </g>
                  <g v-if="sq.data==3" class="square">
                    <!-- Cross under -->
                    <g class="tile">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path class="stroke" d="M 0 50 L 30 50 M 70 50 L 100 50" />
                      <path class="stroke" d="M 50 0 L 50 100" />
                    </g>
                  </g>
                  <g v-if="sq.data==4" class="square">
                    <!-- Cross over -->
                    <g class="tile rot90deg">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path class="stroke" d="M 0 50 L 30 50 M 70 50 L 100 50" />
                      <path class="stroke" d="M 50 0 L 50 100" />
                    </g>
                  </g>
                  <g v-if="sq.data==5" class="square">
                    <!-- Wiggle -->
                    <g class="tile">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path
                        class="stroke"
                        d="M 0 50 A 16.6 16.6 1 0 0 16.6 33.3 A 16.6 16.6 1 0 1 33.3 16.6 A 16.6 16.6 1 0 0 50 0"
                      />
                      <path
                        class="stroke"
                        d="M 100 50 A 16.6 16.6 1 0 0 83.3 66.6 A 16.6 16.6 1 0 1 66.6 83.3 A 16.6 16.6 1 0 0 50 100"
                      />
                    </g>
                  </g>
                  <g v-if="sq.data==6" class="square">
                    <!-- Wiggle rotated 90deg -->
                    <g class="tile rot90deg">
                      <polygon points="0,0 0,100 100,100 100,0" />
                      <path
                        class="stroke"
                        d="M 0 50 A 16.6 16.6 1 0 0 16.6 33.3 A 16.6 16.6 1 0 1 33.3 16.6 A 16.6 16.6 1 0 0 50 0"
                      />
                      <path
                        class="stroke"
                        d="M 100 50 A 16.6 16.6 1 0 0 83.3 66.6 A 16.6 16.6 1 0 1 66.6 83.3 A 16.6 16.6 1 0 0 50 100"
                      />
                    </g>
                  </g>
                  <!-- <text>{{sq.data}}</text> -->
                </g>
              </g>
            </svg>
          </figure>
        </p>
      </section>
      <section>
        <h2>Triangular Grid</h2>
        <div class="flex-container">
          <p>
            Surely, we could extend this idea to equilateral triangles, since they, too, can tile
            the plane beautifully! The first problem is that a triangle has three sides, so we only
            have three edge connection points. If we only choose tiles that use one line to connect
            two of the sides, while leaving the third empty, we get a disjointed grid that isn't
            much fun.
          </p>
          <figure class="float-right small">
            <svg viewBox="0 0 400 200">
              <g class="grid triangle">
                <g class="triangle" style="transform: translate(50px, 50px)">
                  <g class="tile">
                    <polygon points="0,86.6 -50,0 50,0" />
                    <path class="stroke" d="M 0 0 A 50 50 1 0 1 -25 43.3" />
                  </g>
                </g>
                <g class="triangle" style="transform: translate(175px, 50px)">
                  <g class="tile rot120deg">
                    <polygon points="0,86.6 -50,0 50,0" />
                    <path class="stroke" d="M 0 0 A 50 50 1 0 1 -25 43.3" />
                  </g>
                </g>
                <g class="triangle" style="transform: translate(300px, 50px)">
                  <g class="tile rot240deg">
                    <polygon points="0,86.6 -50,0 50,0" />
                    <path class="stroke" d="M 0 0 A 50 50 1 0 1 -25 43.3" />
                  </g>
                </g>
              </g>
            </svg>
            <figcaption>Naïve set of triangle tiles</figcaption>
          </figure>
        </div>
        <figure id="triangle-grid-three-tile" class="full-width">
          <svg viewBox="0 0 1500 500" border-box>
            <g class="grid triangles">
              <g
                v-for="tr in grid.grid.triangles"
                :style="toTransform(grid.mapTriangle(tr))"
                :class="triClassName(tr, selected)"
                :data-sq="tr.string()"
              >
                <g v-if="tr.data==0" class="abc">
                  <g class="tile">
                    <polygon points="0,86.6 -50,0 50,0" />
                    <path class="stroke" d="M 0 0 A 50 50 1 0 1 -25 43.3" />
                  </g>
                </g>
                <g v-if="tr.data==1" class="abc">
                  <g class="tile rot120deg">
                    <polygon points="0,86.6 -50,0 50,0" />
                    <path class="stroke" d="M 0 0 A 50 50 1 0 1 -25 43.3" />
                  </g>
                </g>
                <g v-if="tr.data==2" class="abc">
                  <g class="tile rot240deg">
                    <polygon points="0,86.6 -50,0 50,0" />
                    <path class="stroke" d="M 0 0 A 50 50 1 0 1 -25 43.3" />
                  </g>
                </g>
              </g>
            </g>
          </svg>
        </figure>
      </section>
    </main>
    <footer>© 2026 Jānis Lībeks</footer>

    <script type="module">
      const { createApp, ref, defineComponent } = Vue
      import {
        TriangleGrid,
        TrianglePositioner,
        // setActiveTriangle,
        // triClassName,
        triSimpleClassName,
      } from './triangles.js'
      import { SquareGrid, SquarePositioner, setActiveSquare, sqClassName } from './squares.js'

      function toTransform(offsetVect) {
        if (offsetVect.rotate) {
          return {
            transform: `translate(${offsetVect.x}px,${offsetVect.y}px) rotate(${offsetVect.rotate}deg)`,
          }
        }
        return {
          transform: `translate(${offsetVect.x}px,${offsetVect.y}px)`,
        }
      }

      const squareTwoApp = createApp({
        data() {
          return {
            selected: null,
            grid: new SquarePositioner(
              { x: 0, y: 0 },
              new SquareGrid({
                nX: 30,
                nY: 15,
              }),
              100,
            ).randomize([0, 1]),
          }
        },
        methods: {
          sqClassName,
          setActiveSquare,
          toTransform,
        },
      }).mount('#square-grid-two-tile')

      const squareFiveApp = createApp({
        data() {
          return {
            selected: null,
            grid: new SquarePositioner(
              { x: 0, y: 0 },
              new SquareGrid({
                nX: 30,
                nY: 15,
              }),
              100,
            ).randomize([0, 1, 2, 3, 4, 5, 6]),
          }
        },
        methods: {
          sqClassName,
          toTransform,
        },
      }).mount('#square-grid-five-tile')

      const triangleYBApp = createApp({
        data() {
          return {
            selected: null,
            grid: new TrianglePositioner(
              { x: 200, y: 70 },
              new TriangleGrid({
                nB: 18,
                nY: 3,
              }),
              100,
            ).randomize([0, 1, 2]),
          }
        },
        methods: {
          triClassName: triSimpleClassName,
          toTransform,
        },
      }).mount('#triangle-grid-three-tile')
    </script>
  </body>
</html>
